<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cartes Flash Allemand (Score Final)</title>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7149691186238296"
     crossorigin="anonymous"></script>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f0f4f8;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            gap: 20px;
        }

        h1 {
            color: #1a4f78;
        }

        /* Styles pour les Cartes Flash */
        .card-container {
            width: 250px;
            height: 150px;
            perspective: 1000px;
        }

        .card {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border-radius: 10px;
        }

        .card.is-flipped {
            transform: rotateY(180deg);
        }

        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            font-weight: bold;
            border-radius: 10px;
            padding: 10px; /* Ajout d'un peu d'espace */
        }

        .card-face-front {
            background-color: #4db6ac;
            color: white;
            z-index: 2;
        }

        .card-face-back {
            background-color: #e57373;
            color: white;
            transform: rotateY(180deg);
        }
        
        .article {
            font-size: 16px;
            font-weight: normal;
            opacity: 0.8;
            margin-top: 5px;
        }
        
        /* STYLE DE L'IC√îNE SUR LA FACE AVANT */
        .card-icon {
            font-size: 30px; 
            margin-bottom: 5px;
        }

        /* NOUVEAU CSS POUR LA NAVIGATION ET LE SCORE */
        #card-display {
            display: flex;
            flex-direction: column; /* Centrer verticalement le score */
            align-items: center;
            margin-bottom: 20px;
            width: 100%;
        }
        
        #card-counter {
            font-weight: bold; 
            color: #1a4f78;
            margin-bottom: 10px;
        }
        
        /* Contr√¥les de Navigation (Pr√©c√©dent/Suivant) */
        #navigation-controls {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
        }

        /* Boutons de Score (Correct/Faux) */
        #score-controls {
            display: none; /* Cach√© par d√©faut */
            gap: 20px;
            margin-top: 10px;
        }
        
        #navigation-controls button, #quiz-controls button, #score-controls button {
            padding: 10px 15px;
            font-size: 16px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            color: white;
            background-color: #1a4f78;
            transition: background-color 0.3s;
        }
        
        #score-controls #correct-btn { background-color: #4CAF50; } /* Vert */
        #score-controls #incorrect-btn { background-color: #f44336; } /* Rouge */

        #navigation-controls button:disabled {
            background-color: #ccc;
            cursor: default;
        }
        
        /* Message de fin et Score final */
        #message-area {
            font-size: 1.2em;
            color: #2c72b2;
            text-align: center;
            margin-top: 20px;
            font-weight: bold;
        }

        #quiz-controls {
            margin-top: 20px;
            text-align: center;
        }

        /* Styles pour la section Contact (QR Code) */
        #contact-section {
            margin-top: 40px;
            padding: 20px;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            width: 80%;
            max-width: 300px;
            text-align: center;
        }
    </style>
</head>
<body>

    <h1>üá©üá™ Cartes Flash Allemand</h1>
    <p>√âvaluez-vous pour un suivi de score !</p>

    <span id="card-counter"></span>
    
    <div id="card-display">
        </div>

    <div id="navigation-controls">
        <button id="prev-btn">‚¨ÖÔ∏è Pr√©c√©dent</button>
        <button id="flip-btn">‚Ü©Ô∏è Retourner</button>
        <button id="next-btn">Suivant ‚û°Ô∏è</button>
    </div>
    
    <div id="score-controls">
        <button id="correct-btn">üëç J'ai su</button>
        <button id="incorrect-btn">üëé J'ai rat√©</button>
    </div>

    <div id="message-area"></div>
    <div id="quiz-controls">
        <button id="new-quiz-btn">üîÅ Nouveau Quiz (5 cartes)</button>
    </div>

    <div id="contact-section">
        <h3>Contactez-moi !</h3>
        <p>Scannez le code QR pour m'envoyer un e-mail directement :</p>
        <img src="contact_qr.png" alt="Code QR pour envoyer un email" style="width:120px; height:120px; margin-top: 10px; border: 2px solid #ccc;">
        <p style="font-size: 12px; margin-top: 5px;">(Ayamenouelie726@gmail.com)</p>
    </div>
    
    <script>
        
        let indexCarteActuelle = 0; 
        let scoreCorrect = 0; // Nouvelle variable pour le score
        
        // Donn√©es avec Ic√¥nes Emoji (le champ 'icone' est nouveau)
        const toutesLesMots = [
            { allemand: "Der Tisch", francais: "la table", icone: "üçΩÔ∏è" },
            { allemand: "Die Lampe", francais: "la lampe", icone: "üí°" },
            { allemand: "Die Tafel", francais: "le tableau", icone: "üìù" },
            { allemand: "Das Haus", francais: "la maison", icone: "üè†" },
            { allemand: "Die T√ºr", francais: "la porte", icone: "üö™" },
            { allemand: "Das Bett", francais: "le lit", icone: "üõèÔ∏è" },
            { allemand: "Das Bild", francais: "la photo", icone: "üñºÔ∏è" },
            { allemand: "Die Uhr", francais: "la montre", icone: "‚åö" },
            { allemand: "Die Brille", francais: "la lunette", icone: "üëì" },
            { allemand: "Der Schl√ºssel", francais: "la cl√©", icone: "üîë" }
        ];

        let motsQuiz; 

        // 1. Fonction de M√©lange
        function melangerMots(tableau) {
            for (let i = tableau.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [tableau[i], tableau[j]] = [tableau[j], tableau[i]];
            }
        }
        
        // 2. Fonction pour cr√©er une s√©rie de quiz
        function creerNouveauQuiz(nombreCartes) {
            melangerMots(toutesLesMots); 
            motsQuiz = toutesLesMots.slice(0, nombreCartes);
            
            indexCarteActuelle = 0; 
            scoreCorrect = 0; // R√âINITIALISATION DU SCORE
            document.getElementById('message-area').textContent = ''; 
            document.getElementById('navigation-controls').style.display = 'flex';
            document.getElementById('score-controls').style.display = 'none'; // Cache les boutons de score

            afficherCarte();
        }

        // 3. Cibler les √âl√©ments HTML
        const displayContainer = document.getElementById('card-display');
        const navigationControls = document.getElementById('navigation-controls');
        const scoreControls = document.getElementById('score-controls');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const flipBtn = document.getElementById('flip-btn');
        const correctBtn = document.getElementById('correct-btn'); // Nouveau bouton
        const incorrectBtn = document.getElementById('incorrect-btn'); // Nouveau bouton
        const newQuizBtn = document.getElementById('new-quiz-btn');
        const cardCounter = document.getElementById('card-counter');
        const messageArea = document.getElementById('message-area');

        // 4. Fonction pour cr√©er la carte
        function creerCarte(mot) {
            const cardContainer = document.createElement('div');
            cardContainer.className = 'card-container';
            
            const card = document.createElement('div');
            card.className = 'card';
            card.id = 'current-card-element';
            
            const front = document.createElement('div');
            front.className = 'card-face card-face-front';
            const motAllemand = mot.allemand.split(' ');
            
            // Affichage de l'ic√¥ne + mot + article
            front.innerHTML = `
                <span class="card-icon">${mot.icone}</span>
                ${motAllemand[1]}
                <span class="article">${motAllemand[0]}</span>
            `;
            
            const back = document.createElement('div');
            back.className = 'card-face card-face-back';
            back.textContent = mot.francais;

            card.appendChild(front);
            card.appendChild(back);
            cardContainer.appendChild(card);
            
            return cardContainer;
        }
        
        // 5. Fonction principale pour afficher UNE SEULE carte
        function afficherCarte() {
            if (motsQuiz.length === 0) return;

            displayContainer.innerHTML = ''; 
            
            const nouvelleCarte = creerCarte(motsQuiz[indexCarteActuelle]);
            displayContainer.appendChild(nouvelleCarte);
            
            // G√©rer les √©tats des boutons
            prevBtn.disabled = indexCarteActuelle === 0;
            // D√©sactiver le Suivant jusqu'√† ce que la carte soit √©valu√©e ou flip
            nextBtn.disabled = true; 
            
            // Mettre √† jour le compteur
            cardCounter.textContent = `Carte ${indexCarteActuelle + 1} / ${motsQuiz.length}`;
            
            messageArea.textContent = '';
        }
        
        // 6. Fonction pour passer √† la carte suivante (apr√®s √©valuation)
        function passerALaCarteSuivante() {
            // Remet la carte √† l'endroit
            const cardElement = document.querySelector('#current-card-element');
            if (cardElement) cardElement.classList.remove('is-flipped'); 
            
            if (indexCarteActuelle < motsQuiz.length - 1) {
                indexCarteActuelle++;
                scoreControls.style.display = 'none'; // Cache les boutons de score
                navigationControls.style.display = 'flex'; // Affiche la navigation
                afficherCarte();
            } else {
                // Fin du Quiz
                const scoreFinal = `${scoreCorrect} sur ${motsQuiz.length}`;
                messageArea.innerHTML = `
                    **ü•≥ BRAVO ! S√©rie Compl√©t√©e !**<br>
                    Votre Score : ${scoreFinal} Corrects.
                `;
                scoreControls.style.display = 'none';
                navigationControls.style.display = 'none'; // Cache la navigation √† la fin
                cardCounter.textContent = `Score Final : ${scoreFinal}`;
                displayContainer.innerHTML = ''; // Cache la carte
            }
        }

        // 7. G√©rer les √âv√©nements des Boutons
        
        // Bouton Retourner la carte
        flipBtn.addEventListener('click', () => {
            const cardElement = document.querySelector('#current-card-element');
            if (cardElement) {
                cardElement.classList.toggle('is-flipped');
                
                // Afficher les boutons de score APR√àS avoir retourn√© la carte
                navigationControls.style.display = 'none'; // Cache Pr√©c√©dent/Retourner/Suivant
                scoreControls.style.display = 'flex'; // Affiche J'ai su/J'ai rat√©
            }
        });
        
        // Bouton J'ai su (Correct)
        correctBtn.addEventListener('click', () => {
            scoreCorrect++; // Incr√©mente le score
            passerALaCarteSuivante();
        });

        // Bouton J'ai rat√© (Incorrect)
        incorrectBtn.addEventListener('click', () => {
            passerALaCarteSuivante(); // N'incr√©mente pas le score, passe juste au suivant
        });

        // Bouton Nouveau Quiz
        newQuizBtn.addEventListener('click', () => {
            creerNouveauQuiz(5); // D√©marre une nouvelle s√©rie de 5 cartes al√©atoires
        });
        
        // Boutons Pr√©c√©dent/Suivant (maintenant pour la navigation simple SANS SCORE)
        nextBtn.addEventListener('click', () => {
            // Permet d'avancer SI la carte n'est pas retourn√©e (mode navigation simple)
            passerALaCarteSuivante(); 
        });
        
        prevBtn.addEventListener('click', () => {
            // Permet de reculer SANS compter le score
            if (indexCarteActuelle > 0) {
                indexCarteActuelle--;
                afficherCarte();
            }
        });


        // 8. Initialisation : Lancer le premier quiz au d√©marrage
        creerNouveauQuiz(10); // D√©marre avec les 10 mots au d√©but
    </script>
</body>
</html>
